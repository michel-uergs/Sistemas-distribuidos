<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema de videochamadas distribuÃ­do com WebRTC">
    <title>VideoCall - Videochamadas WebRTC</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- TELA DE ENTRADA (LOBBY) -->
    <div id="lobby" class="screen">
        <div class="lobby-container">
            <div class="lobby-header">
                <div class="logo">
                    <span class="logo-icon">ğŸ¥</span>
                    <h1>VideoCall</h1>
                </div>
                <p class="subtitle">Sistema de videochamadas em tempo real</p>
            </div>

            <div class="lobby-form">
                <div class="input-group">
                    <label for="userName">
                        <span class="icon">ğŸ‘¤</span>
                        Seu nome
                    </label>
                    <input 
                        type="text" 
                        id="userName" 
                        placeholder="Digite seu nome"
                        autocomplete="off"
                        required
                    >
                </div>

                <div class="input-group">
                    <label for="roomId">
                        <span class="icon">ğŸšª</span>
                        CÃ³digo da sala
                    </label>
                    <input 
                        type="text" 
                        id="roomId" 
                        placeholder="Digite ou deixe em branco"
                        autocomplete="off"
                    >
                    <small>Deixe em branco para criar uma nova sala</small>
                </div>

                <div class="button-container">
                    <button id="createRoom" class="btn btn-primary">
                        <span>â•</span>
                        Criar Nova Sala
                    </button>
                    <button id="joinRoom" class="btn btn-secondary">
                        <span>ğŸš€</span>
                        Entrar na Sala
                    </button>
                </div>
            </div>

            <div class="features">
                <div class="feature-item">
                    <span class="feature-icon">ğŸ”’</span>
                    <span>Seguro</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">âš¡</span>
                    <span>RÃ¡pido</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸŒ</span>
                    <span>WebRTC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- TELA DE VIDEOCHAMADA -->
    <div id="room" class="screen hidden">
        <!-- CabeÃ§alho -->
        <header class="room-header">
            <div class="room-info">
                <h2>
                    <span class="icon">ğŸ“¹</span>
                    Sala: <span id="currentRoomId" class="room-code"></span>
                </h2>
                <p id="participantCount" class="participants">1 participante</p>
            </div>
            <div class="header-actions">
                <button id="copyRoomId" class="btn-icon" title="Copiar cÃ³digo da sala">
                    ğŸ“‹
                </button>
                <button id="leaveRoom" class="btn btn-danger">
                    ğŸšª Sair
                </button>
            </div>
        </header>

        <!-- Grid de VÃ­deos -->
        <main class="video-grid" id="videoGrid">
            <!-- VÃ­deo Local -->
            <div class="video-wrapper local-video" id="localVideoWrapper">
                <video id="localVideo" autoplay muted playsinline></video>
                <div class="video-overlay">
                    <div class="video-info">
                        <span class="name">VocÃª</span>
                        <div class="indicators">
                            <span class="indicator" id="localAudioIndicator">ğŸ¤</span>
                            <span class="indicator" id="localVideoIndicator">ğŸ“¹</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Controles -->
        <footer class="controls">
            <div class="controls-wrapper">
                <button id="toggleAudio" class="control-btn active" title="Microfone">
                    <span class="icon">ğŸ¤</span>
                    <span class="label">Microfone</span>
                </button>

                <button id="toggleVideo" class="control-btn active" title="CÃ¢mera">
                    <span class="icon">ğŸ“¹</span>
                    <span class="label">CÃ¢mera</span>
                </button>

                <button id="shareScreen" class="control-btn" title="Compartilhar tela">
                    <span class="icon">ğŸ–¥ï¸</span>
                    <span class="label">Compartilhar</span>
                </button>

                <div class="divider"></div>

                <button id="leaveCall" class="control-btn danger" title="Encerrar chamada">
                    <span class="icon">ğŸ“</span>
                    <span class="label">Encerrar</span>
                </button>
            </div>
        </footer>
    </div>

    <!-- NotificaÃ§Ãµes Toast -->
    <div id="toast" class="toast hidden">
        <span class="toast-icon">â„¹ï¸</span>
        <span class="toast-message"></span>
    </div>

    <!-- Loading -->
    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
        <p>Conectando...</p>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4/dist/socket.io.min.js"></script>
    <script src="client.js"></script>
</body>
</html>